---

title: cikFInfo


keywords: fastai
sidebar: home_sidebar

summary: "Save parsed form info for each CIK in a separate JSON-format file."
description: "Save parsed form info for each CIK in a separate JSON-format file."
nb_path: "13_cikFinfo.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 13_cikFinfo.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Save parsed form info for each CIK in a separate JSON-format file.
The format is designed so that info for additional forms can simply be appended to the file.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="getCikFInfoDirAndPath" class="doc_header"><code>getCikFInfoDirAndPath</code><a href="https://github.com/ikedim01/secscan/tree/master/secscan/cikFInfo.py#L22" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>getCikFInfoDirAndPath</code>(<strong><code>cik</code></strong>, <strong><code>cikFInfoDir</code></strong>=<em><code>'C:\\Users\\ikedi\\secData\\cikFInfo'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="jsonValError" class="doc_header"><code>jsonValError</code><a href="https://github.com/ikedim01/secscan/tree/master/secscan/cikFInfo.py#L28" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>jsonValError</code>(<strong><code>msg</code></strong>, <strong><code>s</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="loadCikFInfo" class="doc_header"><code>loadCikFInfo</code><a href="https://github.com/ikedim01/secscan/tree/master/secscan/cikFInfo.py#L33" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>loadCikFInfo</code>(<strong><code>cik</code></strong>, <strong><code>cikFInfoDir</code></strong>=<em><code>'C:\\Users\\ikedi\\secData\\cikFInfo'</code></em>, <strong><code>returnAsText</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="saveCikFInfo" class="doc_header"><code>saveCikFInfo</code><a href="https://github.com/ikedim01/secscan/tree/master/secscan/cikFInfo.py#L46" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>saveCikFInfo</code>(<strong><code>cik</code></strong>, <strong><code>cikFInfo</code></strong>, <strong><code>removeDups</code></strong>=<em><code>False</code></em>, <strong><code>cikFInfoDir</code></strong>=<em><code>'C:\\Users\\ikedi\\secData\\cikFInfo'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="saveAllCikFInfo" class="doc_header"><code>saveAllCikFInfo</code><a href="https://github.com/ikedim01/secscan/tree/master/secscan/cikFInfo.py#L62" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>saveAllCikFInfo</code>(<strong><code>startD</code></strong>, <strong><code>endD</code></strong>, <strong><code>scraperClasses</code></strong>, <strong><code>removeDups</code></strong>=<em><code>True</code></em>, <strong><code>cikFInfoDir</code></strong>=<em><code>'C:\\Users\\ikedi\\secData\\cikFInfo'</code></em>, <strong><code>ciks</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="saveYears" class="doc_header"><code>saveYears</code><a href="https://github.com/ikedim01/secscan/tree/master/secscan/cikFInfo.py#L77" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>saveYears</code>(<strong><code>startY</code></strong>, <strong><code>endY</code></strong>, <strong><code>removeDups</code></strong>=<em><code>False</code></em>, <strong><code>cikFInfoDir</code></strong>=<em><code>'C:\\Users\\ikedi\\secData\\cikFInfo'</code></em>, <strong><code>ciks</code></strong>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Code to check CIK format and figure out the right prefix length:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#     cikNames = utils.pickLoad(os.path.join(utils.stockDataRoot,&#39;dlMaps&#39;,&#39;cikNames.pkl&#39;))</span>
<span class="c1">#     print(&#39;ciks with leading 0&#39;, [cik for cik in cikNames if cik[0]==&#39;0&#39;])</span>
<span class="c1">#     print(&#39;less than 4 long&#39;, [cik for cik in cikNames if len(cik)&lt;4])</span>
<span class="c1">#     for prefLen in [3,4] :</span>
<span class="c1">#         ciksByPref = collections.defaultdict(list)</span>
<span class="c1">#         for cik in cikNames :</span>
<span class="c1">#             ciksByPref[cik[:prefLen]].append(cik)</span>
<span class="c1">#         print(f&#39;prefix length {prefLen}: {len(ciksByPref)} folders,&#39;</span>
<span class="c1">#               +f&#39; max {max(len(v) for v in ciksByPref.values())} files&#39;)</span>
<span class="c1"># checkCiks()</span>
<span class="c1"># OUTPUT: </span>
<span class="c1"># ciks with leading 0 []</span>
<span class="c1"># less than 4 long [&#39;63&#39;]</span>
<span class="c1"># prefix length 3: 773 folders, max 9154 files</span>
<span class="c1"># prefix length 4: 4003 folders, max 933 files</span>
<span class="c1"># - chose prefix length 4</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">htmlPref</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&lt;!DOCTYPE html&gt;</span>
<span class="s2">&lt;html&gt;</span>
<span class="s2">&lt;head&gt;</span>
<span class="s2">&lt;meta charset=&quot;utf-8&quot;&gt;</span>
<span class="s2">&lt;style&gt;</span>
<span class="s2">.collapsible {</span>
<span class="s2">  background-color: #DDD;</span>
<span class="s2">  cursor: pointer;</span>
<span class="s2">  padding: 2px;</span>
<span class="s2">  margin: 2px;</span>
<span class="s2">  border: 1px solid black;</span>
<span class="s2">  text-align: left;</span>
<span class="s2">  outline: none;</span>
<span class="s2">  font-size: 15px;</span>
<span class="s2">}</span>
<span class="s2">.collapsible:hover {</span>
<span class="s2">  background-color: #AAA;</span>
<span class="s2">}</span>
<span class="s2">.content {</span>
<span class="s2">  padding: 0 2px;</span>
<span class="s2">  display: none;</span>
<span class="s2">  overflow: hidden;</span>
<span class="s2">  background-color: #DDD;</span>
<span class="s2">}</span>
<span class="s2">.bodyclass {</span>
<span class="s2">  padding: 0 2px;</span>
<span class="s2">  font-size: 16px;</span>
<span class="s2">  font-family: Arial;</span>
<span class="s2">}</span>
<span class="s2">&lt;/style&gt;</span>
<span class="s2">&lt;/head&gt;</span>
<span class="s2">&lt;body class=&quot;bodyclass&quot;&gt;</span>
<span class="s2">&lt;script&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">htmlSuff</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">var fList = submissions[&#39;filings&#39;][&#39;recent&#39;];</span>
<span class="s2">var accNos = fList[&#39;accessionNumber&#39;];</span>
<span class="s2">var forms = fList[&#39;form&#39;];</span>
<span class="s2">var fDates = fList[&#39;filingDate&#39;];</span>
<span class="s2">var lastFDate = &#39;&#39;;</span>
<span class="s2">var secUrlPref = &#39;https://www.sec.gov&#39;;</span>
<span class="s2">function urlForAccNo(accNo) {</span>
<span class="s2">    return secUrlPref + &quot;/Archives/edgar/data/&quot;</span>
<span class="s2">            + accNo.replace(&quot;-&quot;,&quot;&quot;) + &quot;/&quot; + accNo + &quot;-index.htm&quot;;</span>
<span class="s2">}</span>
<span class="s2">function urlForCik(cik) {</span>
<span class="s2">    return secUrlPref + &quot;/cgi-bin/browse-edgar?CIK=&quot; + cik;</span>
<span class="s2">}</span>
<span class="s2">function hyperlinkForCik(cik, name) {</span>
<span class="s2">    return &quot;&lt;a href=&#39;&quot; + urlForCik(cik) + &quot;&#39; target=&#39;_blank&#39;&gt;&quot; + name + &quot;&lt;/a&gt;&quot;;</span>
<span class="s2">}</span>
<span class="s2">function linkUrl(urlText, url) {</span>
<span class="s2">    return &quot;&lt;a href=&#39;&quot; + secUrlPref + url + &quot;&#39; target=&#39;_blank&#39;&gt;&quot; + urlText + &quot;&lt;/a&gt;&quot;;</span>
<span class="s2">}</span>
<span class="s2">function showText(text, textLimit) {</span>
<span class="s2">    return &quot;&lt;button type=&#39;button&#39; class=&#39;collapsible&#39;&gt;&quot;</span>
<span class="s2">                    + text.slice(0,textLimit) + &quot;&lt;/button&gt;&quot;</span>
<span class="s2">                + &quot;&lt;div class=&#39;content&#39;&gt;&quot; + text + &quot;&lt;/div&gt;&quot;;</span>
<span class="s2">}</span>
<span class="s2">var kTextLimit = 100;</span>
<span class="s2">function addText99s(info, res, startLen) {</span>
<span class="s2">    var text99s=info[&#39;text99&#39;], links=info[&#39;links&#39;];</span>
<span class="s2">    for (let i=0; i&lt;text99s.length; i++)</span>
<span class="s2">        if (text99s[i] != &#39;&#39;) {</span>
<span class="s2">            if (res.length &gt; startLen)</span>
<span class="s2">                res += &quot;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;;</span>
<span class="s2">            else</span>
<span class="s2">                res += &quot;&amp;nbsp;&amp;nbsp;&quot;;</span>
<span class="s2">            res += linkUrl(links[i][0], links[i][3]) + &quot;&amp;nbsp;&amp;nbsp;&quot; + showText(text99s[i], kTextLimit);</span>
<span class="s2">        }</span>
<span class="s2">    return res;</span>
<span class="s2">}</span>
<span class="s2">function form8KF(info) {</span>
<span class="s2">    var mainUrlText=info[&#39;links&#39;][0][0], mainUrl=info[&#39;links&#39;][0][3];</span>
<span class="s2">    var res = &quot;&amp;nbsp;&amp;nbsp;&quot; + linkUrl(mainUrlText, mainUrl);</span>
<span class="s2">    var startLen = res.length;</span>
<span class="s2">    if (&#39;explanatoryNote&#39; in info)</span>
<span class="s2">        res += &quot;&amp;nbsp;&amp;nbsp;&quot; + showText(info[&#39;explanatoryNote&#39;], kTextLimit);</span>
<span class="s2">    var itemTexts = info[&#39;itemTexts&#39;];</span>
<span class="s2">    for (let i=0; i&lt;itemTexts.length; i++) {</span>
<span class="s2">        if (itemTexts.length&gt;1 &amp;&amp; itemTexts[i].toLowerCase().startsWith(&#39;item 9&#39;))</span>
<span class="s2">            continue;</span>
<span class="s2">        if (res.length &gt; startLen)</span>
<span class="s2">            res += &quot;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;;</span>
<span class="s2">        else</span>
<span class="s2">            res += &quot;&amp;nbsp;&amp;nbsp;&quot;;</span>
<span class="s2">        res += showText(itemTexts[i], kTextLimit);</span>
<span class="s2">    }</span>
<span class="s2">    return addText99s(info, res, startLen);</span>
<span class="s2">}</span>
<span class="s2">function form6KF(info) {</span>
<span class="s2">    var mainUrlText=info[&#39;links&#39;][0][0], mainUrl=info[&#39;links&#39;][0][3];</span>
<span class="s2">    var res = &quot;&amp;nbsp;&amp;nbsp;&quot; + linkUrl(mainUrlText, mainUrl)</span>
<span class="s2">                + &quot;&amp;nbsp;&amp;nbsp;&quot; + showText(info[&#39;mainText&#39;], kTextLimit);</span>
<span class="s2">    return addText99s(info, res, -1);</span>
<span class="s2">}</span>
<span class="s2">var form4ADCodes = {&#39;A&#39;:&#39;+&#39;, &#39;D&#39;:&#39;-&#39;};</span>
<span class="s2">var form4DICodes = {&#39;D&#39;:&#39;directly owned&#39;, &#39;I&#39;:&#39;indirectly owned&#39;};</span>
<span class="s2">var form4TrCodes = {</span>
<span class="s2">    &#39;P&#39;:&#39;open market buy&#39;,</span>
<span class="s2">    &#39;S&#39;:&#39;open market sell&#39;,</span>
<span class="s2">    &#39;V&#39;:&#39;early report&#39;,</span>
<span class="s2">    &#39;A&#39;:&#39;grant/award R16b-3&#39;,</span>
<span class="s2">    &#39;D&#39;:&#39;disposition to issuer R16b-3&#39;,</span>
<span class="s2">    &#39;F&#39;:&#39;payment by delivering/withholding R16b-3&#39;,</span>
<span class="s2">    &#39;I&#39;:&#39;discretionary transaction R16b-3&#39;,</span>
<span class="s2">    &#39;M&#39;:&#39;exempt derivative exercise R16b-3&#39;,</span>
<span class="s2">    &#39;C&#39;:&#39;conversion of derivative&#39;,</span>
<span class="s2">    &#39;E&#39;:&#39;expiration/short&#39;,</span>
<span class="s2">    &#39;H&#39;:&#39;expiration/long&#39;,</span>
<span class="s2">    &#39;O&#39;:&#39;out-of-the-money exercise&#39;,</span>
<span class="s2">    &#39;X&#39;:&#39;in-the-money exercise&#39;,</span>
<span class="s2">    &#39;G&#39;:&#39;gift&#39;,</span>
<span class="s2">    &#39;L&#39;:&#39;small acquisition R16a-6&#39;,</span>
<span class="s2">    &#39;W&#39;:&#39;inheritance&#39;,</span>
<span class="s2">    &#39;Z&#39;:&#39;transfer with voting trust&#39;,</span>
<span class="s2">    &#39;J&#39;:&#39;other&#39;,</span>
<span class="s2">    &#39;K&#39;:&#39;equity swap&#39;,</span>
<span class="s2">    &#39;U&#39;:&#39;change of control&#39;,</span>
<span class="s2">};</span>
<span class="s2">function getWithDef(dic, k, defaultVal) {</span>
<span class="s2">    return (k in dic ? dic[k] : defaultVal);</span>
<span class="s2">}</span>
<span class="s2">function formatForm4Num(s) {</span>
<span class="s2">    try {</span>
<span class="s2">        return parseFloat(s).toLocaleString();</span>
<span class="s2">    } catch(err) {</span>
<span class="s2">        return s;</span>
<span class="s2">    }</span>

<span class="s2">}</span>
<span class="s2">function form4F(info) {</span>
<span class="s2">    var transLines = [];</span>
<span class="s2">    var omb = false;</span>
<span class="s2">    if (&#39;transactions&#39; in info) {</span>
<span class="s2">        transactions = info[&#39;transactions&#39;];</span>
<span class="s2">        for (let i=0; i&lt;transactions.length; i++) {</span>
<span class="s2">            trans = transactions[i];</span>
<span class="s2">            if (trans[2].toUpperCase() == &#39;P&#39;)</span>
<span class="s2">                omb = true;</span>
<span class="s2">            transLines.push((trans[1] + &quot;&amp;nbsp;&quot; + trans[0]</span>
<span class="s2">                    + &quot;&amp;nbsp;&amp;nbsp;&lt;b&gt;&quot; + getWithDef(form4ADCodes,trans[3].toUpperCase(),&quot;???&quot;)</span>
<span class="s2">                    + formatForm4Num(trans[4]) + &quot;&amp;nbsp;&amp;nbsp;=&quot; + formatForm4Num(trans[8])</span>
<span class="s2">                    + &quot;&amp;nbsp;&amp;nbsp;@&quot; + trans[5] + &quot;&lt;/b&gt;&quot;</span>
<span class="s2">                    + &quot;&amp;nbsp;&amp;nbsp;&quot; + getWithDef(form4TrCodes,trans[2].toUpperCase(),&quot;???&quot;)</span>
<span class="s2">                    + &quot;,&amp;nbsp;&quot; + getWithDef(form4DICodes,trans[7].toUpperCase(),&quot;???&quot;)</span>
<span class="s2">                    ).toLowerCase());</span>
<span class="s2">        }</span>
<span class="s2">    }</span>
<span class="s2">    var res = &quot;&quot;;</span>
<span class="s2">    if (omb)</span>
<span class="s2">        res += &quot;&amp;nbsp;&amp;nbsp;&lt;b&gt;OMB&lt;/b&gt;&quot;</span>
<span class="s2">    if (&#39;reportingCik&#39; in info &amp;&amp; &#39;reportingName&#39; in info)</span>
<span class="s2">        res += &quot;&amp;nbsp;&amp;nbsp;&quot; + hyperlinkForCik(info[&#39;reportingCik&#39;],info[&#39;reportingName&#39;]);</span>
<span class="s2">    res += &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot;</span>
<span class="s2">    if (transLines.length == 0)</span>
<span class="s2">        res += &quot;No transactions found!&quot;;</span>
<span class="s2">    else if (transLines.length == 1)</span>
<span class="s2">        res += transLines[0];</span>
<span class="s2">    else</span>
<span class="s2">        res += &quot;&lt;button type=&#39;button&#39; class=&#39;collapsible&#39;&gt;&quot; + transLines[0]</span>
<span class="s2">                    + &quot;,&amp;nbsp;&quot; + (transLines.length-1) + &quot;&amp;nbsp;more&amp;nbsp;...&lt;/button&gt;&quot;</span>
<span class="s2">                + &quot;&lt;div class=&#39;content&#39;&gt;&quot; + transLines.slice(1).join(&#39;&lt;br&gt;&#39;) + &quot;&lt;/div&gt;&quot;;</span>
<span class="s2">    return res;</span>
<span class="s2">}</span>
<span class="s2">var formFuncs = {</span>
<span class="s2">    &#39;8-K&#39;: form8KF,</span>
<span class="s2">    &#39;6-K&#39;: form6KF,</span>
<span class="s2">    &#39;4&#39;: form4F</span>
<span class="s2">};</span>
<span class="s2">function htmlFor(form, accNo) {</span>
<span class="s2">    var res = &quot;&lt;a href=&#39;&quot; + urlForAccNo(accNo) + &quot;&#39; target=&#39;_blank&#39;&gt;&quot;</span>
<span class="s2">                + form + &quot;&lt;/a&gt;&quot;;</span>
<span class="s2">    if (form.endsWith(&#39;/A&#39;))</span>
<span class="s2">        form = form.slice(0,-2);</span>
<span class="s2">    if (!(form in formFuncs))</span>
<span class="s2">        return res;</span>
<span class="s2">    if (accNo in fInfo)</span>
<span class="s2">        res += formFuncs[form](fInfo[accNo]);</span>
<span class="s2">    else</span>
<span class="s2">        res += &quot; ---&quot;;</span>
<span class="s2">    return res;</span>
<span class="s2">}</span>
<span class="s2">var el = document.createElement(&quot;div&quot;);</span>
<span class="s2">el.innerHTML = &quot;&lt;div&gt;&lt;button type=&#39;button&#39; id=&#39;expandall&#39;&gt;expand all&lt;/button&gt;&quot;</span>
<span class="s2">                + &quot;&amp;nbsp;&amp;nbsp;&quot;</span>
<span class="s2">                + &quot;&lt;button type=&#39;button&#39; id=&#39;hideform4&#39;&gt;hide form 4&lt;/button&gt;&quot;</span>
<span class="s2">                + &quot;&amp;nbsp;&quot;</span>
<span class="s2">                + &quot; &lt;b&gt;&quot; + hyperlinkForCik(cik,submissions[&quot;name&quot;]) + &quot;&lt;/b&gt;&lt;/div&gt;&quot;;</span>
<span class="s2">document.body.appendChild(el);</span>
<span class="s2">for (let i=0; i&lt;accNos.length; i++) {</span>
<span class="s2">    var el = document.createElement(&quot;div&quot;);</span>
<span class="s2">    formHtml = (lastFDate==fDates[i] ? &quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&quot; : &quot;&lt;b&gt;&quot;+fDates[i]+&quot;&lt;/b&gt;&amp;nbsp;&quot;);</span>
<span class="s2">    lastFDate = fDates[i];</span>
<span class="s2">    formHtml += htmlFor(forms[i], accNos[i]);</span>
<span class="s2">    el.innerHTML = formHtml;</span>
<span class="s2">    if (forms[i].startsWith(&#39;4&#39;))</span>
<span class="s2">        el.className = &#39;form4&#39;;</span>
<span class="s2">    document.body.appendChild(el);</span>
<span class="s2">}</span>
<span class="s2">var collList = document.getElementsByClassName(&quot;collapsible&quot;);</span>
<span class="s2">var form4List = document.getElementsByClassName(&quot;form4&quot;);</span>
<span class="s2">for (let i=0; i&lt;collList.length; i++) {</span>
<span class="s2">  collList[i].addEventListener(&quot;click&quot;, function() {</span>
<span class="s2">    let content = this.nextElementSibling;</span>
<span class="s2">    content.style.display = (content.style.display === &quot;block&quot; ? &quot;none&quot; : &quot;block&quot;);</span>
<span class="s2">  }</span>
<span class="s2">  );</span>
<span class="s2">}</span>
<span class="s2">document.getElementById(&quot;expandall&quot;).addEventListener(&quot;click&quot;, function() {</span>
<span class="s2">    let expandingAll = (this.textContent === &#39;expand all&#39;);</span>
<span class="s2">    this.textContent = (expandingAll ? &#39;collapse all&#39; : &#39;expand all&#39;);</span>
<span class="s2">    for (let i=0; i&lt;collList.length; i++) {</span>
<span class="s2">        let content = collList[i].nextElementSibling;</span>
<span class="s2">        content.style.display = (expandingAll ? &quot;block&quot; : &quot;none&quot;);</span>
<span class="s2">    }</span>
<span class="s2">});</span>
<span class="s2">document.getElementById(&quot;hideform4&quot;).addEventListener(&quot;click&quot;, function() {</span>
<span class="s2">    let hiding4 = (this.textContent === &#39;hide form 4&#39;);</span>
<span class="s2">    this.textContent = (hiding4 ? &#39;show form 4&#39; : &#39;hide form 4&#39;);</span>
<span class="s2">    for (let i=0; i&lt;form4List.length; i++)</span>
<span class="s2">        form4List[i].style.display = (hiding4 ? &quot;none&quot; : &quot;block&quot;);</span>
<span class="s2">});</span>
<span class="s2">&lt;/script&gt;</span>
<span class="s2">&lt;/body&gt;</span>
<span class="s2">&lt;/html&gt;&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">secscan</span> <span class="kn">import</span> <span class="n">getCikFilings</span>

<span class="k">def</span> <span class="nf">makeHtml</span><span class="p">(</span><span class="n">cik</span><span class="p">)</span> <span class="p">:</span>
    <span class="n">cik</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cik</span><span class="p">)</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
    <span class="n">subs</span> <span class="o">=</span> <span class="n">utils</span><span class="o">.</span><span class="n">downloadSecUrl</span><span class="p">(</span><span class="n">getCikFilings</span><span class="o">.</span><span class="n">cikRestFilingsUrl</span><span class="p">(</span><span class="n">cik</span><span class="p">),</span>
                             <span class="n">restData</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">toFormat</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
    <span class="n">cikFInfo</span> <span class="o">=</span> <span class="n">loadCikFInfo</span><span class="p">(</span><span class="n">cik</span><span class="p">,</span> <span class="n">returnAsText</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">stockDataRoot</span><span class="p">,</span><span class="n">cik</span><span class="o">+</span><span class="s1">&#39;.html&#39;</span><span class="p">),</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span> <span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">htmlPref</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;var cik=</span><span class="si">{</span><span class="n">cik</span><span class="si">}</span><span class="s1">;&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;var fInfo={&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cikFInfo</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;};</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;var submissions=&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">subs</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">htmlSuff</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># l[&#39;0001127602-23-003082&#39;][&#39;transactions&#39;][0]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;Deferred Stock Units&#39;,
 &#39;2023-01-31&#39;,
 &#39;A&#39;,
 &#39;A&#39;,
 &#39;289.6918&#39;,
 &#39;20.37&#39;,
 &#39;By Benefit Plan&#39;,
 &#39;I&#39;,
 &#39;21554.6329&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;Item 2.02 Results of Operations and Financial Condition. The registrant announced on January 25, 2023, its results of operations for the fourth quarter of 2022. The text of the press release and accompanying financial information are attached as exhibits and incorporated herein by reference. &#39;,
 &#39;Item 9.01 Financial Statements and Exhibits. The following exhibits are furnished as part of this report: (d) Exhibits 99.1 Press release dated January 25, 2023 reporting financial results for the fourth quarter ended December 31, 2022. 99.2 AT&amp;T Inc. selected financial statements and operating data. 99.3 Discussion and reconciliation of non-GAAP measures. 99.4 Supplemental Quarterly Standalone AT&amp;T Financial Information. 104 Cover Page Interactive Data File (embedded within the Inline XBRL document) Signature Pursuant to the requirements of the Securities Exchange Act of 1934, the Registrant has duly caused this report to be signed on its behalf by the undersigned hereunto duly authorized. AT&amp;T INC. Date: January 25, 2023 By: /s/ Debra L. Dial . Debra L. Dial Senior Vice President - Chief Accounting Officer and Controller&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;cik&#39;: &#39;732717&#39;,
 &#39;entityType&#39;: &#39;operating&#39;,
 &#39;sic&#39;: &#39;4813&#39;,
 &#39;sicDescription&#39;: &#39;Telephone Communications (No Radiotelephone)&#39;,
 &#39;insiderTransactionForOwnerExists&#39;: 1,
 &#39;insiderTransactionForIssuerExists&#39;: 1,
 &#39;name&#39;: &#39;AT&amp;T INC.&#39;,
 &#39;tickers&#39;: [&#39;T&#39;, &#39;TBB&#39;, &#39;TBC&#39;, &#39;T-PA&#39;, &#39;T-PC&#39;],
 &#39;exchanges&#39;: [&#39;NYSE&#39;, &#39;NYSE&#39;, &#39;NYSE&#39;, &#39;NYSE&#39;, &#39;NYSE&#39;],
 &#39;ein&#39;: &#39;431301883&#39;,
 &#39;description&#39;: &#39;&#39;,
 &#39;website&#39;: &#39;&#39;,
 &#39;investorWebsite&#39;: &#39;&#39;,
 &#39;category&#39;: &#39;Large accelerated filer&#39;,
 &#39;fiscalYearEnd&#39;: &#39;1231&#39;,
 &#39;stateOfIncorporation&#39;: &#39;DE&#39;,
 &#39;stateOfIncorporationDescription&#39;: &#39;DE&#39;,
 &#39;addresses&#39;: {&#39;mailing&#39;: {&#39;street1&#39;: &#39;208 S. AKARD ST&#39;,
   &#39;street2&#39;: None,
   &#39;city&#39;: &#39;DALLAS&#39;,
   &#39;stateOrCountry&#39;: &#39;TX&#39;,
   &#39;zipCode&#39;: &#39;75202&#39;,
   &#39;stateOrCountryDescription&#39;: &#39;TX&#39;},
  &#39;business&#39;: {&#39;street1&#39;: &#39;208 S. AKARD ST&#39;,
   &#39;street2&#39;: None,
   &#39;city&#39;: &#39;DALLAS&#39;,
   &#39;stateOrCountry&#39;: &#39;TX&#39;,
   &#39;zipCode&#39;: &#39;75202&#39;,
   &#39;stateOrCountryDescription&#39;: &#39;TX&#39;}},
 &#39;phone&#39;: &#39;2108214105&#39;,
 &#39;flags&#39;: &#39;&#39;,
 &#39;formerNames&#39;: [{&#39;name&#39;: &#39;SBC COMMUNICATIONS INC&#39;,
   &#39;from&#39;: &#39;1995-05-26T00:00:00.000Z&#39;,
   &#39;to&#39;: &#39;2005-11-18T00:00:00.000Z&#39;},
  {&#39;name&#39;: &#39;SOUTHWESTERN BELL CORP&#39;,
   &#39;from&#39;: &#39;1994-06-24T00:00:00.000Z&#39;,
   &#39;to&#39;: &#39;1995-04-26T00:00:00.000Z&#39;}]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>20170101 20170401
20170401 20170701
20170701 20171001
20171001 20180101
20180101 20180401
20180401 20180701
20180701 20181001
20181001 20190101
20190101 20190401
20190401 20190701
20190701 20191001
20191001 20200101
20200101 20200401
20200401 20200701
20200701 20201001
20201001 20210101
20210101 20210401
20210401 20210701
20210701 20211001
20211001 20220101
20220101 20220401
20220401 20220701
20220701 20221001
20221001 20230101
20230101 20230401
20230401 20230701
20230701 20231001
20231001 20240101
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>(&#39;20170101&#39;, &#39;20230201&#39;)</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Test cik file info class:</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">loadCikFInfo</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">)</span><span class="o">==</span><span class="p">{}</span>
<span class="n">fDir</span><span class="p">,</span> <span class="n">fPath</span> <span class="o">=</span> <span class="n">getCikFInfoDirAndPath</span><span class="p">(</span><span class="s1">&#39;12345&#39;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">fDir</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;12345&#39;</span><span class="p">[:</span><span class="n">cikFPrefLen</span><span class="p">])</span> <span class="ow">and</span> <span class="n">fPath</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;12345.json&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

